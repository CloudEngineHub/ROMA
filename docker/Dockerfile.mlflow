FROM ghcr.io/mlflow/mlflow:latest

# Install psycopg2 for PostgreSQL support
RUN pip install psycopg2-binary

# Create mlflow directories with proper permissions
RUN mkdir -p /mlflow /mlflow/artifacts && \
    chmod -R 777 /mlflow

# Set working directory
WORKDIR /mlflow

# Keep the default entrypoint and command
